@model Atomia.Store.AspNetMvc.Models.ProductListingViewModel

<script type="text/javascript">
    var Atomia = Atomia || {};
    Atomia.VM = Atomia.VM || {};

    Atomia.VM.connectedDomainStatus = new Atomia.ViewModels.DomainStatusModel();

    Atomia.VM.products = new Atomia.ViewModels.ProductListingModel(Atomia.VM.cart);
    Atomia.VM.products.singleSelection = true;
    Atomia.VM.products.load(@Html.JsonAction("GetData", "ProductListing", new { query = Model.Query }));
    Atomia.VM.products.isPackageLabelEnabled = @Model.IsPackageLabelEnabled.ToString().ToLower();

    Atomia.VM.label = new Atomia.ViewModels.CustomLabelModel(Atomia.VM.cart, Atomia.VM.products.selectedProduct);

</script>